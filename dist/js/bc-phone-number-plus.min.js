!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.bcPhoneNumber=e()}}(function(){return function e(n,o,t){function r(i,l){if(!o[i]){if(!n[i]){var d="function"==typeof require&&require;if(!l&&d)return d(i,!0);if(u)return u(i,!0);var s=new Error("Cannot find module '"+i+"'");throw s.code="MODULE_NOT_FOUND",s}var a=o[i]={exports:{}};n[i][0].call(a.exports,function(e){var o=n[i][1][e];return r(o?o:e)},a,a.exports,e,n,o,t)}return o[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)r(t[i]);return r}({1:[function(e,n,o){angular.module("bcPhoneNumberTemplates",[]).run(["$templateCache",function(e){e.put("bc-phone-number-plus/bc-phone-number-plus.html",'<section class="input-group input-group-sm">\n  <div class="input-group-btn" uib-dropdown uib-keyboard-nav>\n    <button ng-disabled="isReadonly" type="button" class="btn btn-default" type="button" uib-dropdown-toggle>\n      <span class="glyphicon iti-flag bc-phone-number-flag" ng-class="selectedCountry.iso2Code"></span><span class="caret"></span>\n    </button>\n    <ul class="uib-dropdown-menu bc-phone-number-dropdown-menu dropdown-menu" role="menu">\n      <li ng-repeat="country in preferredCountries" ng-click="selectCountry(country)"\n          ng-class="{active: isCountrySelected(country)}" role="menuitem">\n        <a href="#" ng-click="$event.preventDefault()" class="bc-phone-number-country-anchor">\n          <i class="glyphicon iti-flag bc-phone-number-country-icon" ng-class="country.iso2Code"></i>\n          <span ng-bind="country.name"></span>\n        </a>\n      </li>\n      <li role="separator" class="divider" ng-show="preferredCountries && preferredCountries.length"></li>\n      <li ng-repeat="country in allCountries" ng-click="selectCountry(country)"\n          ng-class="{active: isCountrySelected(country)}" role="menuitem">\n        <a href="#" ng-click="$event.preventDefault()" class="bc-phone-number-country-anchor">\n          <i class="glyphicon iti-flag bc-phone-number-country-icon" ng-class="country.iso2Code"></i>\n          <span ng-bind="country.name"></span>\n        </a>\n      </li>\n    </ul>\n  </div>\n  <input name="phone" ng-keypress="onPress($event)" ng-readonly="isReadonly" type="tel" class="form-control" ng-model="number" ng-required="isRequired" />\n</section>\n')}])},{}],2:[function(e,n,o){(function(o){"use strict";function t(e,n){var o=r.getDigits(e),t=r.getIso2CodeByDigits(o);if(t){var u=r.getDialCodeByDigits(o),i=r.formatNumber(e);u!==n.selectedCountry.dialCode&&(n.selectedCountry=r.getCountryByIso2Code(t)),n.ngModel=i,n.number=i}else n.ngModel=e}var r="undefined"!=typeof window?window.bcCountries:"undefined"!=typeof o?o.bcCountries:null,u="undefined"!=typeof window?window.angular:"undefined"!=typeof o?o.angular:null;o.angular=u,e("../build/js/templates"),u.module("bcPhoneNumber",["bcPhoneNumberTemplates","ui.bootstrap"]).service("bcPhoneNumber",function(){this.isValid=r.isValidNumber,this.format=r.formatNumber}).directive("bcPhoneNumber",function(){function e(e){for(var n=[],o=0;o<e.length;o++){var t=r.getCountryByIso2Code(e[o]);t&&n.push(t)}return n}if("undefined"==typeof r)throw new"bc-countries not found, did you forget to load the Javascript?";return{templateUrl:"bc-phone-number-plus/bc-phone-number-plus.html",require:"ngModel",scope:{preferredCountriesCodes:"@preferredCountries",defaultCountryCode:"@defaultCountry",isValid:"=",ngModel:"=",ngRequired:"=",ngReadonly:"=",hasName:"="},link:function(n,o,i,l){if(n.selectedCountry=r.getCountryByIso2Code(n.defaultCountryCode||"us"),n.allCountries=r.getAllCountries(),n.number=n.ngModel,n.isRequired=n.ngRequired,n.isReadonly=n.ngReadonly,n.phone=n.hasName,n.onPress=function(e){var r=o.find(".form-control")[0];e.charCode>=48&&e.charCode<=57&&0==r.value.length&&(r.value=n.selectedCountry.dialCode+r.value,t(r.value,n))},n.preferredCountriesCodes){var d=n.preferredCountriesCodes.split(" ");n.preferredCountries=e(d)}n.selectCountry=function(e){n.selectedCountry=e,n.number=n.ngModel=r.changeDialCode(n.number,e.dialCode)},n.isCountrySelected=function(e){return e.iso2Code==n.selectedCountry.iso2Code},n.resetCountry=function(){var e=n.defaultCountryCode;if(e){var o=r.getCountryByIso2Code(e),t=r.changeDialCode(n.number,o.dialCode);n.selectedCountry=o,n.ngModel=t,n.number=t}},n.$watch("ngModel",function(e){n.number=e});var s=u.element(o.find("input[ng-model]")),a=s.closest(".form-group");n.$watch(function(){return!(s.attr("class").search("k-invalid")<0)},function(e){a.toggleClass("has-error",e)}),n.$watch("number",function(e){""!==e&&(l.$setValidity("phoneNumber",r.isValidNumber(e)),n.isValid=r.isValidNumber(e))}),n.$watch("number",function(e){""===e?n.ngModel="":"undefined"!=typeof e&&1===e.length&&"+"!==e?(e=n.selectedCountry.dialCode+e,t(e,n)):e&&t(e,n)})}}}),n.exports="bcPhoneNumber"}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../build/js/templates":1}]},{},[2])(2)});